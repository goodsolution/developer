<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <div th:replace="fragments/head"></div>
    <script th:src="@{/js/module.js}"></script>
    <script th:inline="javascript">
            var module = [[${module}]];
        </script>
</head>

<body>
<div th:replace="fragments/menu :: menu"></div>

<div class="container">
    <div class="text-center">
        <h4 th:text="#{Module.details}"></h4>
    </div>

    <form class="bg-light p-5 border">
        <div class="form-row">
            <div class="form-group col-md-6 text-center">
                <label for="name" th:text="#{Name}"></label>
                <input type="text" class="form-control" id="name" th:value="${module.name}">
            </div>

            <div class="form-group col-md-6 text-center">
                <label for="visibility-status" th:text="#{Visibility.Status}"></label>
                <select id="visibility-status" class="form-control">
                    <option th:each="visibilityStatus : ${moduleVisibilityStatusesDict}"
                            th:value="${visibilityStatus.code}"
                            th:text="${visibilityStatus.value}"
                            th:selected="(${visibilityStatus.code} == *{module.visibilityStatus})">
                    </option>
                </select>
            </div>
        </div>
        <div class="text-center">
            <button type="button" class="btn btn-danger mt-3" onclick="showDeleteModal()" th:text="#{Delete}"></button>
            <button type="button" class="btn btn-warning mt-3" onclick="sendUpdateRequest()" th:text="#{Save.changes}"></button>
        </div>
    </form>
</div>

<div th:fragment="modal" class="modal" id="delete-object-modal">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-red p-2">
            <div class="modal-body w-100">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <p> </p>
                <p class="font-weight-bold text-center" th:text="#{personalized.delete.module.modal}"></p>
                <p class="text-center">
                    <button class="btn btn-danger" type="button" onclick="sendDeleteRequest()" th:text="#{Yes}"></button>
                    <button class="btn btn-secondary" type="button" data-dismiss="modal" th:text="#{Cancel}"></button>
                </p>
            </div>
        </div>
    </div>
</div>

<div th:replace="fragments/operation-successful-modal :: modal"></div>
</body>

</html>
